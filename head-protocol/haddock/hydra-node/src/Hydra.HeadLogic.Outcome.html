<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DuplicateRecordFields #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hydra.HeadLogic.Outcome</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Hydra.Prelude</span></span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hydra.API.ServerOutput.html"><span class="hs-identifier">Hydra.API.ServerOutput</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.API.ServerOutput.html#ServerOutput"><span class="hs-identifier">ServerOutput</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hydra.Chain.html"><span class="hs-identifier">Hydra.Chain</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Chain.html#ChainStateType"><span class="hs-identifier">ChainStateType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hydra.Chain.html#HeadParameters"><span class="hs-identifier">HeadParameters</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hydra.Chain.html#IsChainState"><span class="hs-identifier">IsChainState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hydra.Chain.html#PostChainTx"><span class="hs-identifier">PostChainTx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hydra.Chain.html#mkHeadParameters"><span class="hs-identifier">mkHeadParameters</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hydra.Crypto.html"><span class="hs-identifier">Hydra.Crypto</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Crypto.html#MultiSignature"><span class="hs-identifier">MultiSignature</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hydra.Crypto.html#Signature"><span class="hs-identifier">Signature</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hydra.Environment.html"><span class="hs-identifier">Hydra.Environment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Environment.html#Environment"><span class="hs-identifier">Environment</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hydra.HeadId.html"><span class="hs-identifier">Hydra.HeadId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadId.html#HeadId"><span class="hs-identifier">HeadId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hydra.HeadId.html#HeadSeed"><span class="hs-identifier">HeadSeed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hydra.HeadLogic.Error.html"><span class="hs-identifier">Hydra.HeadLogic.Error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Error.html#LogicError"><span class="hs-identifier">LogicError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hydra.HeadLogic.State.html"><span class="hs-identifier">Hydra.HeadLogic.State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.State.html#HeadState"><span class="hs-identifier">HeadState</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hydra.Ledger.html"><span class="hs-identifier">Hydra.Ledger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Ledger.html#ChainSlot"><span class="hs-identifier">ChainSlot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#IsTx"><span class="hs-identifier">IsTx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#TxIdType"><span class="hs-identifier">TxIdType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#UTxOType"><span class="hs-identifier">UTxOType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#ValidationError"><span class="hs-identifier">ValidationError</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hydra.Network.Message.html"><span class="hs-identifier">Hydra.Network.Message</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Network.Message.html#Message"><span class="hs-identifier">Message</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hydra.Party.html"><span class="hs-identifier">Hydra.Party</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Party.html#Party"><span class="hs-identifier">Party</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hydra.Snapshot.html"><span class="hs-identifier">Hydra.Snapshot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Snapshot.html#Snapshot"><span class="hs-identifier">Snapshot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hydra.Snapshot.html#SnapshotNumber"><span class="hs-identifier">SnapshotNumber</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Test.QuickCheck</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">oneof</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-comment">-- | Analogous to inputs, the pure head logic &quot;core&quot; can have effects emited to</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- the &quot;shell&quot; layers and we distinguish the same: effects onto the client, the</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- network and the chain.</span><span>
</span><span id="line-24"></span><span class="hs-keyword">data</span><span> </span><span id="Effect"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Effect"><span class="hs-identifier hs-var">Effect</span></a></span></span><span> </span><span id="local-6989586621680325686"><span class="annot"><a href="#local-6989586621680325686"><span class="hs-identifier hs-type">tx</span></a></span></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-comment">-- | Effect to be handled by the &quot;Hydra.API&quot;, results in sending this 'ServerOutput'.</span></span><span>
</span><span id="line-26"></span><span>    </span><span id="ClientEffect"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#ClientEffect"><span class="hs-identifier hs-var">ClientEffect</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AserverOutput%3AClientEffect"><span class="annot"><span class="annottext">forall tx. Effect tx -&gt; ServerOutput tx
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AserverOutput%3AClientEffect"><span class="hs-identifier hs-var hs-var">serverOutput</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.API.ServerOutput.html#ServerOutput"><span class="hs-identifier hs-type">ServerOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325686"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | Effect to be handled by a &quot;Hydra.Network&quot;, results in a 'Hydra.Network.broadcast'.</span></span><span>
</span><span id="line-28"></span><span>    </span><span id="NetworkEffect"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#NetworkEffect"><span class="hs-identifier hs-var">NetworkEffect</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3Amessage%3AClientEffect"><span class="annot"><span class="annottext">forall tx. Effect tx -&gt; Message tx
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Amessage%3AClientEffect"><span class="hs-identifier hs-var hs-var">message</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Network.Message.html#Message"><span class="hs-identifier hs-type">Message</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325686"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | Effect to be handled by a &quot;Hydra.Chain&quot;, results in a 'Hydra.Chain.postTx'.</span></span><span>
</span><span id="line-30"></span><span>    </span><span id="OnChainEffect"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#OnChainEffect"><span class="hs-identifier hs-var">OnChainEffect</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3ApostChainTx%3AClientEffect"><span class="annot"><span class="annottext">forall tx. Effect tx -&gt; PostChainTx tx
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3ApostChainTx%3AClientEffect"><span class="hs-identifier hs-var hs-var">postChainTx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Chain.html#PostChainTx"><span class="hs-identifier hs-type">PostChainTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325686"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680326255"><span id="local-6989586621680326257"><span class="annot"><span class="annottext">(forall x. Effect tx -&gt; Rep (Effect tx) x)
-&gt; (forall x. Rep (Effect tx) x -&gt; Effect tx)
-&gt; Generic (Effect tx)
forall x. Rep (Effect tx) x -&gt; Effect tx
forall x. Effect tx -&gt; Rep (Effect tx) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall tx x. Rep (Effect tx) x -&gt; Effect tx
forall tx x. Effect tx -&gt; Rep (Effect tx) x
$cfrom :: forall tx x. Effect tx -&gt; Rep (Effect tx) x
from :: forall x. Effect tx -&gt; Rep (Effect tx) x
$cto :: forall tx x. Rep (Effect tx) x -&gt; Effect tx
to :: forall x. Rep (Effect tx) x -&gt; Effect tx
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span id="local-6989586621680326262"><span id="local-6989586621680326271"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680325707"><span class="annot"><a href="#local-6989586621680325707"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Hydra.Chain.html#IsChainState"><span class="hs-identifier hs-type">IsChainState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325707"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325707"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-34"></span><span id="local-6989586621680326278"><span id="local-6989586621680326291"><span id="local-6989586621680326295"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680325714"><span class="annot"><a href="#local-6989586621680325714"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Hydra.Chain.html#IsChainState"><span class="hs-identifier hs-type">IsChainState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325714"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325714"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-35"></span><span id="local-6989586621680326300"><span id="local-6989586621680326307"><span id="local-6989586621680326310"><span id="local-6989586621680326313"><span id="local-6989586621680326316"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680325843"><span class="annot"><a href="#local-6989586621680325843"><span class="hs-keyword hs-type">anyclass</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Hydra.Chain.html#IsChainState"><span class="hs-identifier hs-type">IsChainState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325843"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325843"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-36"></span><span id="local-6989586621680326477"><span id="local-6989586621680326484"><span id="local-6989586621680326487"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680325919"><span class="annot"><a href="#local-6989586621680325919"><span class="hs-keyword hs-type">anyclass</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Hydra.Chain.html#IsChainState"><span class="hs-identifier hs-type">IsChainState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325919"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325919"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680325925"><span id="local-6989586621680326616"><span class="annot"><a href="Hydra.Chain.html#IsChainState"><span class="hs-identifier hs-type">IsChainState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325925"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325925"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-39"></span><span>  </span><span id="local-6989586621680326681"><span class="annot"><span class="annottext">arbitrary :: Gen (Effect tx)
</span><a href="#local-6989586621680326681"><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Gen (Effect tx)
forall a.
(Generic a, GA UnsizedOpts (Rep a),
 UniformWeight (Weights_ (Rep a))) =&gt;
Gen a
</span><span class="hs-identifier hs-var">genericArbitrary</span></span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span class="hs-comment">-- | Head state changed event. These events represent all the internal state</span><span>
</span><span id="line-42"></span><span class="hs-comment">-- changes, get persisted and processed in an event sourcing manner.</span><span>
</span><span id="line-43"></span><span class="hs-keyword">data</span><span> </span><span id="StateChanged"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#StateChanged"><span class="hs-identifier hs-var">StateChanged</span></a></span></span><span> </span><span id="local-6989586621680325987"><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="HeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#HeadInitialized"><span class="hs-identifier hs-var">HeadInitialized</span></a></span></span><span>
</span><span id="line-45"></span><span>      </span><span class="hs-special">{</span><span> </span><span id="%24sel%3Aparameters%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; HeadParameters
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Aparameters%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">parameters</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Chain.html#HeadParameters"><span class="hs-identifier hs-type">HeadParameters</span></a></span><span>
</span><span id="line-46"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AchainState%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; ChainStateType tx
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AchainState%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">chainState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Chain.html#ChainStateType"><span class="hs-identifier hs-type">ChainStateType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-47"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AheadId%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; HeadId
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AheadId%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">headId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.HeadId.html#HeadId"><span class="hs-identifier hs-type">HeadId</span></a></span><span>
</span><span id="line-48"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AheadSeed%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; HeadSeed
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AheadSeed%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">headSeed</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.HeadId.html#HeadSeed"><span class="hs-identifier hs-type">HeadSeed</span></a></span><span>
</span><span id="line-49"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="CommittedUTxO"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#CommittedUTxO"><span class="hs-identifier hs-var">CommittedUTxO</span></a></span></span><span>
</span><span id="line-51"></span><span>      </span><span class="hs-special">{</span><span> </span><span id="%24sel%3Aparty%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; Party
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Aparty%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">party</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Party.html#Party"><span class="hs-identifier hs-type">Party</span></a></span><span>
</span><span id="line-52"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AcommittedUTxO%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; UTxOType tx
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AcommittedUTxO%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">committedUTxO</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#UTxOType"><span class="hs-identifier hs-type">UTxOType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-53"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AchainState%3AHeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AchainState%3AHeadInitialized"><span class="hs-identifier hs-var">chainState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Chain.html#ChainStateType"><span class="hs-identifier hs-type">ChainStateType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-54"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HeadAborted"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#HeadAborted"><span class="hs-identifier hs-var">HeadAborted</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AchainState%3AHeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AchainState%3AHeadInitialized"><span class="hs-identifier hs-var">chainState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Chain.html#ChainStateType"><span class="hs-identifier hs-type">ChainStateType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HeadOpened"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#HeadOpened"><span class="hs-identifier hs-var">HeadOpened</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AchainState%3AHeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AchainState%3AHeadInitialized"><span class="hs-identifier hs-var">chainState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Chain.html#ChainStateType"><span class="hs-identifier hs-type">ChainStateType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">,</span><span> </span><span id="%24sel%3AinitialUTxO%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; UTxOType tx
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AinitialUTxO%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">initialUTxO</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#UTxOType"><span class="hs-identifier hs-type">UTxOType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TransactionAppliedToLocalUTxO"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#TransactionAppliedToLocalUTxO"><span class="hs-identifier hs-var">TransactionAppliedToLocalUTxO</span></a></span></span><span>
</span><span id="line-58"></span><span>      </span><span class="hs-special">{</span><span> </span><span id="%24sel%3Atx%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; tx
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Atx%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-59"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AnewLocalUTxO%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; UTxOType tx
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AnewLocalUTxO%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">newLocalUTxO</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#UTxOType"><span class="hs-identifier hs-type">UTxOType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-60"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SnapshotRequestDecided"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#SnapshotRequestDecided"><span class="hs-identifier hs-var">SnapshotRequestDecided</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AsnapshotNumber%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; SnapshotNumber
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AsnapshotNumber%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">snapshotNumber</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Snapshot.html#SnapshotNumber"><span class="hs-identifier hs-type">SnapshotNumber</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | A snapshot was requested by some party.</span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-comment">-- NOTE: We deliberately already include an updated local ledger state to</span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-comment">-- not need a ledger to interpret this event.</span><span>
</span><span id="line-65"></span><span>    </span><span id="SnapshotRequested"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#SnapshotRequested"><span class="hs-identifier hs-var">SnapshotRequested</span></a></span></span><span>
</span><span id="line-66"></span><span>      </span><span class="hs-special">{</span><span> </span><span id="%24sel%3Asnapshot%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; Snapshot tx
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Asnapshot%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">snapshot</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Snapshot.html#Snapshot"><span class="hs-identifier hs-type">Snapshot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-67"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="%24sel%3ArequestedTxIds%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; [TxIdType tx]
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3ArequestedTxIds%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">requestedTxIds</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hydra.Ledger.html#TxIdType"><span class="hs-identifier hs-type">TxIdType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-68"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AnewLocalUTxO%3AHeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AnewLocalUTxO%3AHeadInitialized"><span class="hs-identifier hs-var">newLocalUTxO</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#UTxOType"><span class="hs-identifier hs-type">UTxOType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span>
</span><span id="line-69"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AnewLocalTxs%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; [tx]
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AnewLocalTxs%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">newLocalTxs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-70"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TransactionReceived"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#TransactionReceived"><span class="hs-identifier hs-var">TransactionReceived</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3Atx%3AHeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Atx%3AHeadInitialized"><span class="hs-identifier hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PartySignedSnapshot"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#PartySignedSnapshot"><span class="hs-identifier hs-var">PartySignedSnapshot</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3Asnapshot%3AHeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Asnapshot%3AHeadInitialized"><span class="hs-identifier hs-var">snapshot</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Snapshot.html#Snapshot"><span class="hs-identifier hs-type">Snapshot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">,</span><span> </span><span id="%24sel%3Aparty%3AHeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Aparty%3AHeadInitialized"><span class="hs-identifier hs-var">party</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Party.html#Party"><span class="hs-identifier hs-type">Party</span></a></span><span class="hs-special">,</span><span> </span><span id="%24sel%3Asignature%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; Signature (Snapshot tx)
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Asignature%3AHeadInitialized"><span class="hs-keyword hs-var hs-var">signature</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Crypto.html#Signature"><span class="hs-identifier hs-type">Signature</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Snapshot.html#Snapshot"><span class="hs-identifier hs-type">Snapshot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SnapshotConfirmed"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#SnapshotConfirmed"><span class="hs-identifier hs-var">SnapshotConfirmed</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3Asnapshot%3AHeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Asnapshot%3AHeadInitialized"><span class="hs-identifier hs-var">snapshot</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Snapshot.html#Snapshot"><span class="hs-identifier hs-type">Snapshot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">,</span><span> </span><span id="%24sel%3Asignatures%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; MultiSignature (Snapshot tx)
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Asignatures%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">signatures</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Crypto.html#MultiSignature"><span class="hs-identifier hs-type">MultiSignature</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Snapshot.html#Snapshot"><span class="hs-identifier hs-type">Snapshot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HeadClosed"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#HeadClosed"><span class="hs-identifier hs-var">HeadClosed</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AchainState%3AHeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AchainState%3AHeadInitialized"><span class="hs-identifier hs-var">chainState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Chain.html#ChainStateType"><span class="hs-identifier hs-type">ChainStateType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">,</span><span> </span><span id="%24sel%3AcontestationDeadline%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; UTCTime
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AcontestationDeadline%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">contestationDeadline</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/time-1.12.2/src/Data.Time.Clock.Internal.UTCTime.html#UTCTime"><span class="hs-identifier hs-type">UTCTime</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HeadContested"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#HeadContested"><span class="hs-identifier hs-var">HeadContested</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AchainState%3AHeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AchainState%3AHeadInitialized"><span class="hs-identifier hs-var">chainState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Chain.html#ChainStateType"><span class="hs-identifier hs-type">ChainStateType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">,</span><span> </span><span id="%24sel%3AcontestationDeadline%3AHeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AcontestationDeadline%3AHeadInitialized"><span class="hs-identifier hs-var">contestationDeadline</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/time-1.12.2/src/Data.Time.Clock.Internal.UTCTime.html#UTCTime"><span class="hs-identifier hs-type">UTCTime</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HeadIsReadyToFanout"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#HeadIsReadyToFanout"><span class="hs-identifier hs-var">HeadIsReadyToFanout</span></a></span></span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HeadFannedOut"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#HeadFannedOut"><span class="hs-identifier hs-var">HeadFannedOut</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AchainState%3AHeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AchainState%3AHeadInitialized"><span class="hs-identifier hs-var">chainState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Chain.html#ChainStateType"><span class="hs-identifier hs-type">ChainStateType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ChainRolledBack"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#ChainRolledBack"><span class="hs-identifier hs-var">ChainRolledBack</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AchainState%3AHeadInitialized"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AchainState%3AHeadInitialized"><span class="hs-identifier hs-var">chainState</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Chain.html#ChainStateType"><span class="hs-identifier hs-type">ChainStateType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680325987"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TickObserved"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#TickObserved"><span class="hs-identifier hs-var">TickObserved</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AchainSlot%3AHeadInitialized"><span class="annot"><span class="annottext">forall tx. StateChanged tx -&gt; ChainSlot
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AchainSlot%3AHeadInitialized"><span class="hs-identifier hs-var hs-var">chainSlot</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#ChainSlot"><span class="hs-identifier hs-type">ChainSlot</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680326718"><span id="local-6989586621680326720"><span class="annot"><span class="annottext">(forall x. StateChanged tx -&gt; Rep (StateChanged tx) x)
-&gt; (forall x. Rep (StateChanged tx) x -&gt; StateChanged tx)
-&gt; Generic (StateChanged tx)
forall x. Rep (StateChanged tx) x -&gt; StateChanged tx
forall x. StateChanged tx -&gt; Rep (StateChanged tx) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall tx x. Rep (StateChanged tx) x -&gt; StateChanged tx
forall tx x. StateChanged tx -&gt; Rep (StateChanged tx) x
$cfrom :: forall tx x. StateChanged tx -&gt; Rep (StateChanged tx) x
from :: forall x. StateChanged tx -&gt; Rep (StateChanged tx) x
$cto :: forall tx x. Rep (StateChanged tx) x -&gt; StateChanged tx
to :: forall x. Rep (StateChanged tx) x -&gt; StateChanged tx
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span id="local-6989586621680326726"><span id="local-6989586621680326772"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680326029"><span class="annot"><a href="#local-6989586621680326029"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Ledger.html#IsTx"><span class="hs-identifier hs-type">IsTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326029"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.State.html#HeadState"><span class="hs-identifier hs-type">HeadState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326029"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Chain.html#ChainStateType"><span class="hs-identifier hs-type">ChainStateType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326029"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#StateChanged"><span class="hs-identifier hs-type">StateChanged</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326029"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-83"></span><span id="local-6989586621680326782"><span id="local-6989586621680326843"><span id="local-6989586621680326847"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680326037"><span class="annot"><a href="#local-6989586621680326037"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Ledger.html#IsTx"><span class="hs-identifier hs-type">IsTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326037"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.State.html#HeadState"><span class="hs-identifier hs-type">HeadState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326037"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Chain.html#ChainStateType"><span class="hs-identifier hs-type">ChainStateType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326037"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#StateChanged"><span class="hs-identifier hs-type">StateChanged</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326037"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-84"></span><span id="local-6989586621680326855"><span id="local-6989586621680326862"><span id="local-6989586621680326865"><span id="local-6989586621680326868"><span id="local-6989586621680326871"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680326082"><span class="annot"><a href="#local-6989586621680326082"><span class="hs-keyword hs-type">anyclass</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Ledger.html#IsTx"><span class="hs-identifier hs-type">IsTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326082"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Chain.html#ChainStateType"><span class="hs-identifier hs-type">ChainStateType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326082"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#StateChanged"><span class="hs-identifier hs-type">StateChanged</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326082"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-85"></span><span id="local-6989586621680327645"><span id="local-6989586621680327652"><span id="local-6989586621680327655"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680326100"><span class="annot"><a href="#local-6989586621680326100"><span class="hs-keyword hs-type">anyclass</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Ledger.html#IsTx"><span class="hs-identifier hs-type">IsTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326100"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.State.html#HeadState"><span class="hs-identifier hs-type">HeadState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326100"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.Chain.html#ChainStateType"><span class="hs-identifier hs-type">ChainStateType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326100"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#StateChanged"><span class="hs-identifier hs-type">StateChanged</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326100"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680326102"><span id="local-6989586621680328196"><span class="annot"><a href="Hydra.Chain.html#IsChainState"><span class="hs-identifier hs-type">IsChainState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326102"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#StateChanged"><span class="hs-identifier hs-type">StateChanged</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326102"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-88"></span><span>  </span><span id="local-6989586621680328204"><span class="annot"><span class="annottext">arbitrary :: Gen (StateChanged tx)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Gen Environment
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen Environment
-&gt; (Environment -&gt; Gen (StateChanged tx)) -&gt; Gen (StateChanged tx)
forall a b. Gen a -&gt; (a -&gt; Gen b) -&gt; Gen b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Environment -&gt; Gen (StateChanged tx)
forall tx. IsChainState tx =&gt; Environment -&gt; Gen (StateChanged tx)
</span><a href="Hydra.HeadLogic.Outcome.html#genStateChanged"><span class="hs-identifier hs-var">genStateChanged</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span id="local-6989586621680326107"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#genStateChanged"><span class="hs-identifier hs-type">genStateChanged</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Chain.html#IsChainState"><span class="hs-identifier hs-type">IsChainState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326107"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hydra.Environment.html#Environment"><span class="hs-identifier hs-type">Environment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Gen</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#StateChanged"><span class="hs-identifier hs-type">StateChanged</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326107"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-91"></span><span id="genStateChanged"><span class="annot"><span class="annottext">genStateChanged :: forall tx. IsChainState tx =&gt; Environment -&gt; Gen (StateChanged tx)
</span><a href="Hydra.HeadLogic.Outcome.html#genStateChanged"><span class="hs-identifier hs-var hs-var">genStateChanged</span></a></span></span><span> </span><span id="local-6989586621680328286"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621680328286"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-92"></span><span>  </span><span class="annot"><span class="annottext">[Gen (StateChanged tx)] -&gt; Gen (StateChanged tx)
forall a. [Gen a] -&gt; Gen a
</span><span class="hs-identifier hs-var">oneof</span></span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">HeadParameters
-&gt; ChainStateType tx -&gt; HeadId -&gt; HeadSeed -&gt; StateChanged tx
forall tx.
HeadParameters
-&gt; ChainStateType tx -&gt; HeadId -&gt; HeadSeed -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#HeadInitialized"><span class="hs-identifier hs-var">HeadInitialized</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Environment -&gt; HeadParameters
</span><a href="Hydra.Chain.html#mkHeadParameters"><span class="hs-identifier hs-var">mkHeadParameters</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621680328286"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ChainStateType tx -&gt; HeadId -&gt; HeadSeed -&gt; StateChanged tx)
-&gt; Gen (ChainStateType tx)
-&gt; Gen (HeadId -&gt; HeadSeed -&gt; StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (ChainStateType tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen (HeadId -&gt; HeadSeed -&gt; StateChanged tx)
-&gt; Gen HeadId -&gt; Gen (HeadSeed -&gt; StateChanged tx)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen HeadId
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen (HeadSeed -&gt; StateChanged tx)
-&gt; Gen HeadSeed -&gt; Gen (StateChanged tx)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen HeadSeed
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-94"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Party -&gt; UTxOType tx -&gt; ChainStateType tx -&gt; StateChanged tx
forall tx.
Party -&gt; UTxOType tx -&gt; ChainStateType tx -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#CommittedUTxO"><span class="hs-identifier hs-var">CommittedUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">Party
</span><a href="#local-6989586621680328288"><span class="hs-identifier hs-var">party</span></a></span><span> </span><span class="annot"><span class="annottext">(UTxOType tx -&gt; ChainStateType tx -&gt; StateChanged tx)
-&gt; Gen (UTxOType tx) -&gt; Gen (ChainStateType tx -&gt; StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (UTxOType tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen (ChainStateType tx -&gt; StateChanged tx)
-&gt; Gen (ChainStateType tx) -&gt; Gen (StateChanged tx)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (ChainStateType tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ChainStateType tx -&gt; StateChanged tx
forall tx. ChainStateType tx -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#HeadAborted"><span class="hs-identifier hs-var">HeadAborted</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainStateType tx -&gt; StateChanged tx)
-&gt; Gen (ChainStateType tx) -&gt; Gen (StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (ChainStateType tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-96"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ChainStateType tx -&gt; UTxOType tx -&gt; StateChanged tx
forall tx. ChainStateType tx -&gt; UTxOType tx -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#HeadOpened"><span class="hs-identifier hs-var">HeadOpened</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainStateType tx -&gt; UTxOType tx -&gt; StateChanged tx)
-&gt; Gen (ChainStateType tx) -&gt; Gen (UTxOType tx -&gt; StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (ChainStateType tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen (UTxOType tx -&gt; StateChanged tx)
-&gt; Gen (UTxOType tx) -&gt; Gen (StateChanged tx)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (UTxOType tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tx -&gt; UTxOType tx -&gt; StateChanged tx
forall tx. tx -&gt; UTxOType tx -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#TransactionAppliedToLocalUTxO"><span class="hs-identifier hs-var">TransactionAppliedToLocalUTxO</span></a></span><span> </span><span class="annot"><span class="annottext">(tx -&gt; UTxOType tx -&gt; StateChanged tx)
-&gt; Gen tx -&gt; Gen (UTxOType tx -&gt; StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen tx
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen (UTxOType tx -&gt; StateChanged tx)
-&gt; Gen (UTxOType tx) -&gt; Gen (StateChanged tx)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (UTxOType tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SnapshotNumber -&gt; StateChanged tx
forall tx. SnapshotNumber -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#SnapshotRequestDecided"><span class="hs-identifier hs-var">SnapshotRequestDecided</span></a></span><span> </span><span class="annot"><span class="annottext">(SnapshotNumber -&gt; StateChanged tx)
-&gt; Gen SnapshotNumber -&gt; Gen (StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen SnapshotNumber
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-99"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Snapshot tx
-&gt; [TxIdType tx] -&gt; UTxOType tx -&gt; [tx] -&gt; StateChanged tx
forall tx.
Snapshot tx
-&gt; [TxIdType tx] -&gt; UTxOType tx -&gt; [tx] -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#SnapshotRequested"><span class="hs-identifier hs-var">SnapshotRequested</span></a></span><span> </span><span class="annot"><span class="annottext">(Snapshot tx
 -&gt; [TxIdType tx] -&gt; UTxOType tx -&gt; [tx] -&gt; StateChanged tx)
-&gt; Gen (Snapshot tx)
-&gt; Gen ([TxIdType tx] -&gt; UTxOType tx -&gt; [tx] -&gt; StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (Snapshot tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen ([TxIdType tx] -&gt; UTxOType tx -&gt; [tx] -&gt; StateChanged tx)
-&gt; Gen [TxIdType tx]
-&gt; Gen (UTxOType tx -&gt; [tx] -&gt; StateChanged tx)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen [TxIdType tx]
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen (UTxOType tx -&gt; [tx] -&gt; StateChanged tx)
-&gt; Gen (UTxOType tx) -&gt; Gen ([tx] -&gt; StateChanged tx)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (UTxOType tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen ([tx] -&gt; StateChanged tx) -&gt; Gen [tx] -&gt; Gen (StateChanged tx)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen [tx]
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tx -&gt; StateChanged tx
forall tx. tx -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#TransactionReceived"><span class="hs-identifier hs-var">TransactionReceived</span></a></span><span> </span><span class="annot"><span class="annottext">(tx -&gt; StateChanged tx) -&gt; Gen tx -&gt; Gen (StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen tx
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-101"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Snapshot tx -&gt; Party -&gt; Signature (Snapshot tx) -&gt; StateChanged tx
forall tx.
Snapshot tx -&gt; Party -&gt; Signature (Snapshot tx) -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#PartySignedSnapshot"><span class="hs-identifier hs-var">PartySignedSnapshot</span></a></span><span> </span><span class="annot"><span class="annottext">(Snapshot tx
 -&gt; Party -&gt; Signature (Snapshot tx) -&gt; StateChanged tx)
-&gt; Gen (Snapshot tx)
-&gt; Gen (Party -&gt; Signature (Snapshot tx) -&gt; StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (Snapshot tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen (Party -&gt; Signature (Snapshot tx) -&gt; StateChanged tx)
-&gt; Gen Party -&gt; Gen (Signature (Snapshot tx) -&gt; StateChanged tx)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen Party
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen (Signature (Snapshot tx) -&gt; StateChanged tx)
-&gt; Gen (Signature (Snapshot tx)) -&gt; Gen (StateChanged tx)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (Signature (Snapshot tx))
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-102"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Snapshot tx -&gt; MultiSignature (Snapshot tx) -&gt; StateChanged tx
forall tx.
Snapshot tx -&gt; MultiSignature (Snapshot tx) -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#SnapshotConfirmed"><span class="hs-identifier hs-var">SnapshotConfirmed</span></a></span><span> </span><span class="annot"><span class="annottext">(Snapshot tx -&gt; MultiSignature (Snapshot tx) -&gt; StateChanged tx)
-&gt; Gen (Snapshot tx)
-&gt; Gen (MultiSignature (Snapshot tx) -&gt; StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (Snapshot tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen (MultiSignature (Snapshot tx) -&gt; StateChanged tx)
-&gt; Gen (MultiSignature (Snapshot tx)) -&gt; Gen (StateChanged tx)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (MultiSignature (Snapshot tx))
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-103"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ChainStateType tx -&gt; UTCTime -&gt; StateChanged tx
forall tx. ChainStateType tx -&gt; UTCTime -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#HeadClosed"><span class="hs-identifier hs-var">HeadClosed</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainStateType tx -&gt; UTCTime -&gt; StateChanged tx)
-&gt; Gen (ChainStateType tx) -&gt; Gen (UTCTime -&gt; StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (ChainStateType tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen (UTCTime -&gt; StateChanged tx)
-&gt; Gen UTCTime -&gt; Gen (StateChanged tx)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen UTCTime
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-104"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ChainStateType tx -&gt; UTCTime -&gt; StateChanged tx
forall tx. ChainStateType tx -&gt; UTCTime -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#HeadContested"><span class="hs-identifier hs-var">HeadContested</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainStateType tx -&gt; UTCTime -&gt; StateChanged tx)
-&gt; Gen (ChainStateType tx) -&gt; Gen (UTCTime -&gt; StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (ChainStateType tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span> </span><span class="annot"><span class="annottext">Gen (UTCTime -&gt; StateChanged tx)
-&gt; Gen UTCTime -&gt; Gen (StateChanged tx)
forall a b. Gen (a -&gt; b) -&gt; Gen a -&gt; Gen b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen UTCTime
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-105"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">StateChanged tx -&gt; Gen (StateChanged tx)
forall a. a -&gt; Gen a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">StateChanged tx
forall tx. StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#HeadIsReadyToFanout"><span class="hs-identifier hs-var">HeadIsReadyToFanout</span></a></span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ChainStateType tx -&gt; StateChanged tx
forall tx. ChainStateType tx -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#HeadFannedOut"><span class="hs-identifier hs-var">HeadFannedOut</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainStateType tx -&gt; StateChanged tx)
-&gt; Gen (ChainStateType tx) -&gt; Gen (StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (ChainStateType tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-107"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ChainStateType tx -&gt; StateChanged tx
forall tx. ChainStateType tx -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#ChainRolledBack"><span class="hs-identifier hs-var">ChainRolledBack</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainStateType tx -&gt; StateChanged tx)
-&gt; Gen (ChainStateType tx) -&gt; Gen (StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen (ChainStateType tx)
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ChainSlot -&gt; StateChanged tx
forall tx. ChainSlot -&gt; StateChanged tx
</span><a href="Hydra.HeadLogic.Outcome.html#TickObserved"><span class="hs-identifier hs-var">TickObserved</span></a></span><span> </span><span class="annot"><span class="annottext">(ChainSlot -&gt; StateChanged tx)
-&gt; Gen ChainSlot -&gt; Gen (StateChanged tx)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Gen ChainSlot
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-110"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-111"></span><span>  </span><span class="annot"><a href="Hydra.Environment.html#Environment"><span class="hs-identifier hs-type">Environment</span></a></span><span class="hs-special">{</span><span id="local-6989586621680328288"><span class="annot"><span class="annottext">Party
party :: Party
$sel:party:Environment :: Environment -&gt; Party
</span><a href="#local-6989586621680328288"><span class="hs-identifier hs-var hs-var">party</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621680328286"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-keyword">data</span><span> </span><span id="Outcome"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Outcome"><span class="hs-identifier hs-var">Outcome</span></a></span></span><span> </span><span id="local-6989586621680326123"><span class="annot"><a href="#local-6989586621680326123"><span class="hs-identifier hs-type">tx</span></a></span></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-comment">-- | Continue with the given state updates and side effects.</span></span><span>
</span><span id="line-115"></span><span>    </span><span id="Continue"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Continue"><span class="hs-identifier hs-var">Continue</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AstateChanges%3AContinue"><span class="annot"><span class="annottext">forall tx. Outcome tx -&gt; [StateChanged tx]
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AstateChanges%3AContinue"><span class="hs-identifier hs-var hs-var">stateChanges</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#StateChanged"><span class="hs-identifier hs-type">StateChanged</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326123"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span id="%24sel%3Aeffects%3AContinue"><span class="annot"><span class="annottext">forall tx. Outcome tx -&gt; [Effect tx]
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Aeffects%3AContinue"><span class="hs-identifier hs-var hs-var">effects</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326123"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">]</span><span class="hs-special">}</span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | Wait for some condition to be met with optional state updates.</span></span><span>
</span><span id="line-117"></span><span>    </span><span id="Wait"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Wait"><span class="hs-identifier hs-var">Wait</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3Areason%3AContinue"><span class="annot"><span class="annottext">forall tx. Outcome tx -&gt; WaitReason tx
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Areason%3AContinue"><span class="hs-identifier hs-var hs-var">reason</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#WaitReason"><span class="hs-identifier hs-type">WaitReason</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326123"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">,</span><span> </span><span id="%24sel%3AstateChanges%3AContinue"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AstateChanges%3AContinue"><span class="hs-identifier hs-var">stateChanges</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#StateChanged"><span class="hs-identifier hs-type">StateChanged</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326123"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">]</span><span class="hs-special">}</span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | Processing resulted in an error.</span></span><span>
</span><span id="line-119"></span><span>    </span><span id="Error"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Error"><span class="hs-identifier hs-var">Error</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3Aerror%3AContinue"><span class="annot"><span class="annottext">forall tx. Outcome tx -&gt; LogicError tx
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3Aerror%3AContinue"><span class="hs-identifier hs-var hs-var">error</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.HeadLogic.Error.html#LogicError"><span class="hs-identifier hs-type">LogicError</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326123"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680328299"><span id="local-6989586621680328301"><span class="annot"><span class="annottext">(forall x. Outcome tx -&gt; Rep (Outcome tx) x)
-&gt; (forall x. Rep (Outcome tx) x -&gt; Outcome tx)
-&gt; Generic (Outcome tx)
forall x. Rep (Outcome tx) x -&gt; Outcome tx
forall x. Outcome tx -&gt; Rep (Outcome tx) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall tx x. Rep (Outcome tx) x -&gt; Outcome tx
forall tx x. Outcome tx -&gt; Rep (Outcome tx) x
$cfrom :: forall tx x. Outcome tx -&gt; Rep (Outcome tx) x
from :: forall x. Outcome tx -&gt; Rep (Outcome tx) x
$cto :: forall tx x. Rep (Outcome tx) x -&gt; Outcome tx
to :: forall x. Rep (Outcome tx) x -&gt; Outcome tx
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680326137"><span id="local-6989586621680328305"><span id="local-6989586621680328309"><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Outcome"><span class="hs-identifier hs-type">Outcome</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326137"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-123"></span><span>  </span><span id="local-6989586621680328318"><span class="annot"><span class="annottext">e :: Outcome tx
</span><a href="#local-6989586621680328318"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Error"><span class="hs-identifier hs-type">Error</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span id="local-6989586621680328319"><span class="annot"><span class="annottext">&lt;&gt; :: Outcome tx -&gt; Outcome tx -&gt; Outcome tx
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;&gt;</span></a></span></span><span> </span><span class="annot"><span class="annottext">Outcome tx
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Outcome tx
</span><a href="#local-6989586621680328318"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-124"></span><span>  </span><span class="annot"><span class="annottext">Outcome tx
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span id="local-6989586621680328320"><span class="annot"><span class="annottext">e :: Outcome tx
</span><a href="#local-6989586621680328320"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Error"><span class="hs-identifier hs-type">Error</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Outcome tx
</span><a href="#local-6989586621680328320"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-125"></span><span>  </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Continue"><span class="hs-identifier hs-type">Continue</span></a></span><span> </span><span id="local-6989586621680328321"><span class="annot"><span class="annottext">[StateChanged tx]
</span><a href="#local-6989586621680328321"><span class="hs-identifier hs-var">scA</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Effect tx]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Wait"><span class="hs-identifier hs-type">Wait</span></a></span><span> </span><span id="local-6989586621680328322"><span class="annot"><span class="annottext">WaitReason tx
</span><a href="#local-6989586621680328322"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680328323"><span class="annot"><span class="annottext">[StateChanged tx]
</span><a href="#local-6989586621680328323"><span class="hs-identifier hs-var">scB</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WaitReason tx -&gt; [StateChanged tx] -&gt; Outcome tx
forall tx. WaitReason tx -&gt; [StateChanged tx] -&gt; Outcome tx
</span><a href="Hydra.HeadLogic.Outcome.html#Wait"><span class="hs-identifier hs-var">Wait</span></a></span><span> </span><span class="annot"><span class="annottext">WaitReason tx
</span><a href="#local-6989586621680328322"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[StateChanged tx]
</span><a href="#local-6989586621680328321"><span class="hs-identifier hs-var">scA</span></a></span><span> </span><span class="annot"><span class="annottext">[StateChanged tx] -&gt; [StateChanged tx] -&gt; [StateChanged tx]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[StateChanged tx]
</span><a href="#local-6989586621680328323"><span class="hs-identifier hs-var">scB</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>  </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Wait"><span class="hs-identifier hs-type">Wait</span></a></span><span> </span><span id="local-6989586621680328324"><span class="annot"><span class="annottext">WaitReason tx
</span><a href="#local-6989586621680328324"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621680328325"><span class="annot"><span class="annottext">[StateChanged tx]
</span><a href="#local-6989586621680328325"><span class="hs-identifier hs-var">scA</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Outcome tx
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WaitReason tx -&gt; [StateChanged tx] -&gt; Outcome tx
forall tx. WaitReason tx -&gt; [StateChanged tx] -&gt; Outcome tx
</span><a href="Hydra.HeadLogic.Outcome.html#Wait"><span class="hs-identifier hs-var">Wait</span></a></span><span> </span><span class="annot"><span class="annottext">WaitReason tx
</span><a href="#local-6989586621680328324"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">[StateChanged tx]
</span><a href="#local-6989586621680328325"><span class="hs-identifier hs-var">scA</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Continue"><span class="hs-identifier hs-type">Continue</span></a></span><span> </span><span id="local-6989586621680328326"><span class="annot"><span class="annottext">[StateChanged tx]
</span><a href="#local-6989586621680328326"><span class="hs-identifier hs-var">scA</span></a></span></span><span> </span><span id="local-6989586621680328327"><span class="annot"><span class="annottext">[Effect tx]
</span><a href="#local-6989586621680328327"><span class="hs-identifier hs-var">efA</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Continue"><span class="hs-identifier hs-type">Continue</span></a></span><span> </span><span id="local-6989586621680328328"><span class="annot"><span class="annottext">[StateChanged tx]
</span><a href="#local-6989586621680328328"><span class="hs-identifier hs-var">scB</span></a></span></span><span> </span><span id="local-6989586621680328329"><span class="annot"><span class="annottext">[Effect tx]
</span><a href="#local-6989586621680328329"><span class="hs-identifier hs-var">efB</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[StateChanged tx] -&gt; [Effect tx] -&gt; Outcome tx
forall tx. [StateChanged tx] -&gt; [Effect tx] -&gt; Outcome tx
</span><a href="Hydra.HeadLogic.Outcome.html#Continue"><span class="hs-identifier hs-var">Continue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[StateChanged tx]
</span><a href="#local-6989586621680328326"><span class="hs-identifier hs-var">scA</span></a></span><span> </span><span class="annot"><span class="annottext">[StateChanged tx] -&gt; [StateChanged tx] -&gt; [StateChanged tx]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[StateChanged tx]
</span><a href="#local-6989586621680328328"><span class="hs-identifier hs-var">scB</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Effect tx]
</span><a href="#local-6989586621680328327"><span class="hs-identifier hs-var">efA</span></a></span><span> </span><span class="annot"><span class="annottext">[Effect tx] -&gt; [Effect tx] -&gt; [Effect tx]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Effect tx]
</span><a href="#local-6989586621680328329"><span class="hs-identifier hs-var">efB</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span id="local-6989586621680328332"><span id="local-6989586621680328347"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680326147"><span class="annot"><a href="#local-6989586621680326147"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Hydra.Chain.html#IsChainState"><span class="hs-identifier hs-type">IsChainState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326147"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Outcome"><span class="hs-identifier hs-type">Outcome</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326147"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-130"></span><span id="local-6989586621680328358"><span id="local-6989586621680328376"><span id="local-6989586621680328380"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680326154"><span class="annot"><a href="#local-6989586621680326154"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Hydra.Chain.html#IsChainState"><span class="hs-identifier hs-type">IsChainState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326154"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Outcome"><span class="hs-identifier hs-type">Outcome</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326154"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-131"></span><span id="local-6989586621680328390"><span id="local-6989586621680328397"><span id="local-6989586621680328400"><span id="local-6989586621680328403"><span id="local-6989586621680328406"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680326161"><span class="annot"><a href="#local-6989586621680326161"><span class="hs-keyword hs-type">anyclass</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Hydra.Chain.html#IsChainState"><span class="hs-identifier hs-type">IsChainState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326161"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Outcome"><span class="hs-identifier hs-type">Outcome</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326161"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-132"></span><span id="local-6989586621680328574"><span id="local-6989586621680328581"><span id="local-6989586621680328584"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680326168"><span class="annot"><a href="#local-6989586621680326168"><span class="hs-keyword hs-type">anyclass</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Hydra.Chain.html#IsChainState"><span class="hs-identifier hs-type">IsChainState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326168"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Outcome"><span class="hs-identifier hs-type">Outcome</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326168"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680326170"><span class="annot"><a href="Hydra.Chain.html#IsChainState"><span class="hs-identifier hs-type">IsChainState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326170"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Outcome"><span class="hs-identifier hs-type">Outcome</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326170"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-135"></span><span>  </span><span id="local-6989586621680328792"><span class="annot"><span class="annottext">arbitrary :: Gen (Outcome tx)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Gen (Outcome tx)
forall a.
(Generic a, GA UnsizedOpts (Rep a),
 UniformWeight (Weights_ (Rep a))) =&gt;
Gen a
</span><span class="hs-identifier hs-var">genericArbitrary</span></span><span>
</span><span id="line-136"></span><span>  </span><span id="local-6989586621680328847"><span class="annot"><span class="annottext">shrink :: Outcome tx -&gt; [Outcome tx]
</span><a href="#local-6989586621680328847"><span class="hs-identifier hs-var hs-var hs-var hs-var">shrink</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Outcome tx -&gt; [Outcome tx]
forall a.
(Generic a, RecursivelyShrink (Rep a), GSubterms (Rep a) a) =&gt;
a -&gt; [a]
</span><span class="hs-identifier hs-var">genericShrink</span></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span id="local-6989586621680326220"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#noop"><span class="hs-identifier hs-type">noop</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Outcome"><span class="hs-identifier hs-type">Outcome</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326220"><span class="hs-identifier hs-type">tx</span></a></span></span><span>
</span><span id="line-139"></span><span id="noop"><span class="annot"><span class="annottext">noop :: forall tx. Outcome tx
</span><a href="Hydra.HeadLogic.Outcome.html#noop"><span class="hs-identifier hs-var hs-var">noop</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[StateChanged tx] -&gt; [Effect tx] -&gt; Outcome tx
forall tx. [StateChanged tx] -&gt; [Effect tx] -&gt; Outcome tx
</span><a href="Hydra.HeadLogic.Outcome.html#Continue"><span class="hs-identifier hs-var">Continue</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span id="local-6989586621680326222"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#wait"><span class="hs-identifier hs-type">wait</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#WaitReason"><span class="hs-identifier hs-type">WaitReason</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326222"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Outcome"><span class="hs-identifier hs-type">Outcome</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326222"><span class="hs-identifier hs-type">tx</span></a></span></span><span>
</span><span id="line-142"></span><span id="wait"><span class="annot"><span class="annottext">wait :: forall tx. WaitReason tx -&gt; Outcome tx
</span><a href="Hydra.HeadLogic.Outcome.html#wait"><span class="hs-identifier hs-var hs-var">wait</span></a></span></span><span> </span><span id="local-6989586621680328852"><span class="annot"><span class="annottext">WaitReason tx
</span><a href="#local-6989586621680328852"><span class="hs-identifier hs-var">reason</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WaitReason tx -&gt; [StateChanged tx] -&gt; Outcome tx
forall tx. WaitReason tx -&gt; [StateChanged tx] -&gt; Outcome tx
</span><a href="Hydra.HeadLogic.Outcome.html#Wait"><span class="hs-identifier hs-var">Wait</span></a></span><span> </span><span class="annot"><span class="annottext">WaitReason tx
</span><a href="#local-6989586621680328852"><span class="hs-identifier hs-var">reason</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span id="local-6989586621680326224"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#newState"><span class="hs-identifier hs-type">newState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#StateChanged"><span class="hs-identifier hs-type">StateChanged</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326224"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Outcome"><span class="hs-identifier hs-type">Outcome</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326224"><span class="hs-identifier hs-type">tx</span></a></span></span><span>
</span><span id="line-145"></span><span id="newState"><span class="annot"><span class="annottext">newState :: forall tx. StateChanged tx -&gt; Outcome tx
</span><a href="Hydra.HeadLogic.Outcome.html#newState"><span class="hs-identifier hs-var hs-var">newState</span></a></span></span><span> </span><span id="local-6989586621680328854"><span class="annot"><span class="annottext">StateChanged tx
</span><a href="#local-6989586621680328854"><span class="hs-identifier hs-var">change</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[StateChanged tx] -&gt; [Effect tx] -&gt; Outcome tx
forall tx. [StateChanged tx] -&gt; [Effect tx] -&gt; Outcome tx
</span><a href="Hydra.HeadLogic.Outcome.html#Continue"><span class="hs-identifier hs-var">Continue</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">StateChanged tx
</span><a href="#local-6989586621680328854"><span class="hs-identifier hs-var">change</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span id="local-6989586621680326226"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#cause"><span class="hs-identifier hs-type">cause</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326226"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Outcome"><span class="hs-identifier hs-type">Outcome</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326226"><span class="hs-identifier hs-type">tx</span></a></span></span><span>
</span><span id="line-148"></span><span id="cause"><span class="annot"><span class="annottext">cause :: forall tx. Effect tx -&gt; Outcome tx
</span><a href="Hydra.HeadLogic.Outcome.html#cause"><span class="hs-identifier hs-var hs-var">cause</span></a></span></span><span> </span><span id="local-6989586621680328856"><span class="annot"><span class="annottext">Effect tx
</span><a href="#local-6989586621680328856"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[StateChanged tx] -&gt; [Effect tx] -&gt; Outcome tx
forall tx. [StateChanged tx] -&gt; [Effect tx] -&gt; Outcome tx
</span><a href="Hydra.HeadLogic.Outcome.html#Continue"><span class="hs-identifier hs-var">Continue</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Effect tx
</span><a href="#local-6989586621680328856"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span id="local-6989586621680326228"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#causes"><span class="hs-identifier hs-type">causes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Effect"><span class="hs-identifier hs-type">Effect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326228"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#Outcome"><span class="hs-identifier hs-type">Outcome</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326228"><span class="hs-identifier hs-type">tx</span></a></span></span><span>
</span><span id="line-151"></span><span id="causes"><span class="annot"><span class="annottext">causes :: forall tx. [Effect tx] -&gt; Outcome tx
</span><a href="Hydra.HeadLogic.Outcome.html#causes"><span class="hs-identifier hs-var hs-var">causes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[StateChanged tx] -&gt; [Effect tx] -&gt; Outcome tx
forall tx. [StateChanged tx] -&gt; [Effect tx] -&gt; Outcome tx
</span><a href="Hydra.HeadLogic.Outcome.html#Continue"><span class="hs-identifier hs-var">Continue</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-keyword">data</span><span> </span><span id="WaitReason"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#WaitReason"><span class="hs-identifier hs-var">WaitReason</span></a></span></span><span> </span><span id="local-6989586621680326230"><span class="annot"><a href="#local-6989586621680326230"><span class="hs-identifier hs-type">tx</span></a></span></span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="WaitOnNotApplicableTx"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#WaitOnNotApplicableTx"><span class="hs-identifier hs-var">WaitOnNotApplicableTx</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AvalidationError%3AWaitOnNotApplicableTx"><span class="annot"><span class="annottext">forall tx. WaitReason tx -&gt; ValidationError
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AvalidationError%3AWaitOnNotApplicableTx"><span class="hs-identifier hs-var hs-var">validationError</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#ValidationError"><span class="hs-identifier hs-type">ValidationError</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="WaitOnSnapshotNumber"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#WaitOnSnapshotNumber"><span class="hs-identifier hs-var">WaitOnSnapshotNumber</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AwaitingFor%3AWaitOnNotApplicableTx"><span class="annot"><span class="annottext">forall tx. WaitReason tx -&gt; SnapshotNumber
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AwaitingFor%3AWaitOnNotApplicableTx"><span class="hs-identifier hs-var hs-var">waitingFor</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hydra.Snapshot.html#SnapshotNumber"><span class="hs-identifier hs-type">SnapshotNumber</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="WaitOnSeenSnapshot"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#WaitOnSeenSnapshot"><span class="hs-identifier hs-var">WaitOnSeenSnapshot</span></a></span></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="WaitOnTxs"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#WaitOnTxs"><span class="hs-identifier hs-var">WaitOnTxs</span></a></span></span><span> </span><span class="hs-special">{</span><span id="%24sel%3AwaitingForTxIds%3AWaitOnNotApplicableTx"><span class="annot"><span class="annottext">forall tx. WaitReason tx -&gt; [TxIdType tx]
</span><a href="Hydra.HeadLogic.Outcome.html#%24sel%3AwaitingForTxIds%3AWaitOnNotApplicableTx"><span class="hs-identifier hs-var hs-var">waitingForTxIds</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hydra.Ledger.html#TxIdType"><span class="hs-identifier hs-type">TxIdType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326230"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">]</span><span class="hs-special">}</span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="WaitOnContestationDeadline"><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#WaitOnContestationDeadline"><span class="hs-identifier hs-var">WaitOnContestationDeadline</span></a></span></span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="annot"><span class="hs-keyword">stock</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621680328867"><span id="local-6989586621680328869"><span class="annot"><span class="annottext">(forall x. WaitReason tx -&gt; Rep (WaitReason tx) x)
-&gt; (forall x. Rep (WaitReason tx) x -&gt; WaitReason tx)
-&gt; Generic (WaitReason tx)
forall x. Rep (WaitReason tx) x -&gt; WaitReason tx
forall x. WaitReason tx -&gt; Rep (WaitReason tx) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall tx x. Rep (WaitReason tx) x -&gt; WaitReason tx
forall tx x. WaitReason tx -&gt; Rep (WaitReason tx) x
$cfrom :: forall tx x. WaitReason tx -&gt; Rep (WaitReason tx) x
from :: forall x. WaitReason tx -&gt; Rep (WaitReason tx) x
$cto :: forall tx x. Rep (WaitReason tx) x -&gt; WaitReason tx
to :: forall x. Rep (WaitReason tx) x -&gt; WaitReason tx
</span><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></a></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span id="local-6989586621680328873"><span id="local-6989586621680328880"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680326146"><span class="annot"><a href="#local-6989586621680326146"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#IsTx"><span class="hs-identifier hs-type">IsTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326146"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/ghc-prim-0.10.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-type">Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#WaitReason"><span class="hs-identifier hs-type">WaitReason</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326146"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-162"></span><span id="local-6989586621680328884"><span id="local-6989586621680328894"><span id="local-6989586621680328897"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680326153"><span class="annot"><a href="#local-6989586621680326153"><span class="hs-keyword hs-type">stock</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#IsTx"><span class="hs-identifier hs-type">IsTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326153"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/wqsa6d2n7mmdrj76zqk4d4pnm4mkjq8g-ghc-9.6.4-doc/share/doc/ghc-9.6.4/html/libraries/base-4.18.2.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#WaitReason"><span class="hs-identifier hs-type">WaitReason</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326153"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-163"></span><span id="local-6989586621680328901"><span id="local-6989586621680328907"><span id="local-6989586621680328910"><span id="local-6989586621680328913"><span id="local-6989586621680328916"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680326160"><span class="annot"><a href="#local-6989586621680326160"><span class="hs-keyword hs-type">anyclass</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#IsTx"><span class="hs-identifier hs-type">IsTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326160"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#WaitReason"><span class="hs-identifier hs-type">WaitReason</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326160"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-164"></span><span id="local-6989586621680329090"><span id="local-6989586621680329096"><span id="local-6989586621680329099"><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621680326167"><span class="annot"><a href="#local-6989586621680326167"><span class="hs-keyword hs-type">anyclass</span></a></span></span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Hydra.Ledger.html#IsTx"><span class="hs-identifier hs-type">IsTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326167"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#WaitReason"><span class="hs-identifier hs-type">WaitReason</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326167"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680326182"><span id="local-6989586621680329240"><span class="annot"><a href="Hydra.Ledger.html#IsTx"><span class="hs-identifier hs-type">IsTx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326182"><span class="hs-identifier hs-type">tx</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hydra.HeadLogic.Outcome.html#WaitReason"><span class="hs-identifier hs-type">WaitReason</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680326182"><span class="hs-identifier hs-type">tx</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-167"></span><span>  </span><span id="local-6989586621680329304"><span class="annot"><span class="annottext">arbitrary :: Gen (WaitReason tx)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Gen (WaitReason tx)
forall a.
(Generic a, GA UnsizedOpts (Rep a),
 UniformWeight (Weights_ (Rep a))) =&gt;
Gen a
</span><span class="hs-identifier hs-var">genericArbitrary</span></span><span>
</span><span id="line-168"></span></pre></body></html>